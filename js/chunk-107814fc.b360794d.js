(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-107814fc"],{"289c":function(t,o,e){},"70f3":function(t,o,e){"use strict";var l=e("289c"),i=e.n(l);i.a},fd3f:function(t,o,e){"use strict";e.r(o);var l=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"artical"},[e("el-input",{model:{value:t.title,callback:function(o){t.title="string"===typeof o?o.trim():o},expression:"title"}}),e("mavon-editor",{attrs:{ishljs:!0,toolbars:t.markdownOption},on:{htmlCode:t.viewHtml,imgAdd:t.imgAdd},model:{value:t.blogMarkdown,callback:function(o){t.blogMarkdown=o},expression:"blogMarkdown"}}),e("el-button",{on:{click:t.submitBlog}},[t._v(t._s(t.blogId?"编辑":"新增"))])],1)},i=[],n={name:"blog",data:function(){return{title:"",blogId:"",blogMarkdown:"",blogHtml:"",markdownOption:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!0,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},methods:{imgAdd:function(t,o){var e=new FormData;e.append("image",o),this.$uploadToOss()},submitBlog:function(){var t=this;if(!this.title)return this.$message.warning("标题不能为空"),!1;this.viewHtml();var o=this.blogId?"blog/editBlog":"blog/addBlog",e={title:this.title,blogMarkdown:this.blogMarkdown,blogHtml:this.blogHtml};this.blogId&&(e.id=this.blogId),console.dir(e),this.$post(o,e).then((function(o){console.log(o),200==o.code&&(t.$message.success(t.blogId?"编辑成功":"新增成功"),t.$router.push("/blogList"))}))["catch"]((function(t){console.log(t)}))},viewHtml:function(){var t=document.getElementsByClassName("v-show-content-html")[0];this.blogHtml=t.innerText},getDetail:function(t){var o=this;this.$post("blog/getBlog",{id:t}).then((function(t){console.log(t),200==t.code&&(console.dir(t.data),o.title=t.data.title,o.blogMarkdown=t.data.blogMarkdown)}))["catch"]((function(t){console.log(t)}))}},mounted:function(){this.$route.query.id&&(this.blogId=this.$route.query.id,this.getDetail(this.blogId))}},s=n,a=(e("70f3"),e("2877")),d=Object(a["a"])(s,l,i,!1,null,"14dd149b",null);o["default"]=d.exports}}]);
//# sourceMappingURL=chunk-107814fc.b360794d.js.map